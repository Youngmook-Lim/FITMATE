<template>
  <header>
    <router-link :to="{ name: 'HomeView' }">FITMATE</router-link>
    <div class="menu-right">
      <span>{{ myUser.name }}ë‹˜ ì•ˆë…•í•˜ì„¸ìš”!</span>
      <router-link class="router-link" :to="{ name: 'MessageReceived' }"
        >ğŸ’Œ</router-link
      >
      <router-link
        class="router-link"
        :to="{
          name: 'UserViewMain',
          params: {
            id: myUser.u_id ? myUser.u_id : 0,
          },
        }"
        >ğŸ‹ï¸â€â™€ï¸</router-link
      >
      <button @click="logout">ë¡œê·¸ì•„ì›ƒ</button>
    </div>
  </header>
</template>

<script>
import { mapState } from "vuex";

export default {
  name: "TheHeader",
  methods: {
    logout() {
      this.$store.commit("CLEAR_ALL");

      // JWT í† í° ì§€ìš°ê¸°
      sessionStorage.removeItem("access-token");
      this.$router.push({ name: "LoginView" });
    },
  },
  computed: {
    ...mapState(["myUser"]),
  },
};
</script>

<style scoped>
header {
  display: flex;
  justify-content: space-between;
  padding: 20px;
  background-color: grey;
}

.menu-right {
  display: flex;
  gap: 16px;
}

.router-link {
  text-decoration: none;
}
</style>
