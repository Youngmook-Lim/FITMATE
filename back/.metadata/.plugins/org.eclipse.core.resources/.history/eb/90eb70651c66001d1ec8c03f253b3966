<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.finalPjt.model.dao.UserDao">
	
	<insert id="createUser" parameterType ="User" >
		INSERT INTO user VALUES
		(#{u_id}, #{pw}, #{name},#{email},#{gender},#{phone_no}, #{nickname})
	</insert>
	
	<select id="findUser" parameterType="String" resultType="User">
		SELECT * 
		FROM user
		WHERE u_id = #{u_id}
		
	</select>
	
	<delete id="deleteUser" parameterType="String">
		DELETE FROM user
		WHERE u_id=#{u_id}
	</delete>
	
	<update id="updateUser" parameterType="User" >
		UPDATE user
		SET 
		pw=#{pw},  
		name=#{name},
		email=#{email},
		phone_no=#{phone_no},
		nickname=#{nickname}
		WHERE u_id=#{u_id}
		
	</update>

	<select id="chkUserID" parameterType="User" resultType="String">
		 SELECT count(*) FROM user
WHERE
<if test="email != null">
  email = #{email}
</if>
<if test="u_id != null">
  u_id = #{u_id}
</if>
<if test="nickname != null">
  nickname = #{nickname}
</if>
<if test="phone_no != null">
  phone_no = #{phone_no}
</if>
	</select>

</mapper>
